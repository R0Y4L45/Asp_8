using Microsoft.EntityFrameworkCore.Migrations;

#nullable disable

namespace App.Entities.Migrations;

public partial class BookStoreMigration : Migration
{
	protected override void Up(MigrationBuilder migrationBuilder)
	{
		migrationBuilder.CreateTable(
			name: "Authors",
			columns: table => new
			{
				Id = table.Column<int>(type: "int", nullable: false)
					.Annotation("SqlServer:Identity", "1, 1"),
				Surname = table.Column<string>(type: "nvarchar(max)", nullable: false),
				Name = table.Column<string>(type: "nvarchar(max)", nullable: false)
			},
			constraints: table =>
			{
				table.PrimaryKey("PK_Authors", x => x.Id);
			});

		migrationBuilder.CreateTable(
			name: "Categories",
			columns: table => new
			{
				Id = table.Column<int>(type: "int", nullable: false)
					.Annotation("SqlServer:Identity", "1, 1"),
				Name = table.Column<string>(type: "nvarchar(max)", nullable: false)
			},
			constraints: table =>
			{
				table.PrimaryKey("PK_Categories", x => x.Id);
			});

		migrationBuilder.CreateTable(
			name: "Presses",
			columns: table => new
			{
				Id = table.Column<int>(type: "int", nullable: false)
					.Annotation("SqlServer:Identity", "1, 1"),
				Name = table.Column<string>(type: "nvarchar(max)", nullable: false)
			},
			constraints: table =>
			{
				table.PrimaryKey("PK_Presses", x => x.Id);
			});

		migrationBuilder.CreateTable(
			name: "Themes",
			columns: table => new
			{
				Id = table.Column<int>(type: "int", nullable: false)
					.Annotation("SqlServer:Identity", "1, 1"),
				Name = table.Column<string>(type: "nvarchar(max)", nullable: false)
			},
			constraints: table =>
			{
				table.PrimaryKey("PK_Themes", x => x.Id);
			});

		migrationBuilder.CreateTable(
			name: "Books",
			columns: table => new
			{
				Id = table.Column<int>(type: "int", nullable: false)
					.Annotation("SqlServer:Identity", "1, 1"),
				Price = table.Column<decimal>(type: "decimal(18,2)", nullable: false),
				Count = table.Column<int>(type: "int", nullable: false),
				Description = table.Column<string>(type: "nvarchar(max)", nullable: true),
				CategoryId = table.Column<int>(type: "int", nullable: false),
				ThemeId = table.Column<int>(type: "int", nullable: false),
				PressId = table.Column<int>(type: "int", nullable: false),
				AuthorId = table.Column<int>(type: "int", nullable: false),
				Name = table.Column<string>(type: "nvarchar(max)", nullable: false)
			},
			constraints: table =>
			{
				table.PrimaryKey("PK_Books", x => x.Id);
				table.ForeignKey(
					name: "FK_Books_Authors_AuthorId",
					column: x => x.AuthorId,
					principalTable: "Authors",
					principalColumn: "Id",
					onDelete: ReferentialAction.Cascade);
				table.ForeignKey(
					name: "FK_Books_Categories_CategoryId",
					column: x => x.CategoryId,
					principalTable: "Categories",
					principalColumn: "Id",
					onDelete: ReferentialAction.Cascade);
				table.ForeignKey(
					name: "FK_Books_Presses_PressId",
					column: x => x.PressId,
					principalTable: "Presses",
					principalColumn: "Id",
					onDelete: ReferentialAction.Cascade);
				table.ForeignKey(
					name: "FK_Books_Themes_ThemeId",
					column: x => x.ThemeId,
					principalTable: "Themes",
					principalColumn: "Id",
					onDelete: ReferentialAction.Cascade);
			});

		migrationBuilder.CreateIndex(
			name: "IX_Books_AuthorId",
			table: "Books",
			column: "AuthorId");

		migrationBuilder.CreateIndex(
			name: "IX_Books_CategoryId",
			table: "Books",
			column: "CategoryId");

		migrationBuilder.CreateIndex(
			name: "IX_Books_PressId",
			table: "Books",
			column: "PressId");

		migrationBuilder.CreateIndex(
			name: "IX_Books_ThemeId",
			table: "Books",
			column: "ThemeId");
	}

	protected override void Down(MigrationBuilder migrationBuilder)
	{
		migrationBuilder.DropTable(
			name: "Books");

		migrationBuilder.DropTable(
			name: "Authors");

		migrationBuilder.DropTable(
			name: "Categories");

		migrationBuilder.DropTable(
			name: "Presses");

		migrationBuilder.DropTable(
			name: "Themes");
	}
}
